@model JobPortal.Entities.Models.Concrete.JobSeeker

@if (!string.IsNullOrEmpty(ViewContext.HttpContext.Request.Query["Message"]))
{
    <div class="alert alert-success">
        @ViewContext.HttpContext.Request.Query["Message"]
    </div>
}

<h2 style="text-align: center;">Profil</h2>

<div style="display: flex; flex-direction: column; align-items: center;">

    <!-- Profil Fotoğrafı -->
    <div>
        @if (!string.IsNullOrEmpty(Model.ProfilePicture))
        {
            <img src="@Url.Content($"~/profilepictures/{Model.ProfilePicture}")" alt="Profil Fotoğrafı" width="120" height="120" style="border-radius: 50%; object-fit: contain;" />
        }
    </div>

    <!-- Profil Bilgileri -->
    <div style="margin-top: 20px; text-align:center;">
        <label><strong>Ad:</strong></label>
        <span>@Model.FirstName</span>
    </div>
    <div>
        <label><strong>Soyad:</strong></label>
        <span>@Model.LastName</span>
    </div>
    <div>
        <label><strong>Email:</strong></label>
        <span>@Model.Email</span>
    </div>
    <div>
        <label><strong>Telefon Numarası:</strong></label>
        <span>@Model.PhoneNumber</span>
    </div>
    <div>
        <label><strong>Adres:</strong></label>
        <span>@Model.Address</span>
    </div>
    <div>
        <label><strong>Yetenekler:</strong></label>
        <span>@Model.Skills</span>
    </div>

    <!-- Özgeçmiş -->
    <div style="margin-top:20px;">
        <label><strong>Özgeçmiş:</strong></label>
        @if (!string.IsNullOrEmpty(Model.Resume))
        {
            <a href="@Url.Content($"~/resumes/{Model.Resume}")" target="_blank">Özgeçmişi Görüntüle</a>
        }
    </div>

    <!-- Eğitim Bilgileri -->
    <h3>Eğitim Bilgileri</h3>
    @if (Model.Educations != null && Model.Educations.Any())
    {
        <ul>
            @foreach (var education in Model.Educations)
            {
                <li>
                    <strong>Okul Adı:</strong> @education.SchoolName <br />
                    <strong>Bölüm:</strong> @education.Department <br />
                    <strong>Mezuniyet Derecesi:</strong> @education.GraduationDegree <br />
                    <strong>Durum:</strong> @education.Status <br />
                    <strong>Mezuniyet Yılı:</strong> @education.GraduationYear <br />
                </li>
            }
        </ul>
    }
    else
    {
        <p>Henüz eklenmiş bir eğitim bilgisi bulunmuyor.</p>
    }

    <!-- Sertifika Bilgileri -->
    <h3>Sertifika Bilgileri</h3>
    @if (Model.Certifications != null && Model.Certifications.Any())
    {
        <ul>
            @foreach (var certification in Model.Certifications)
            {
                <li>
                    <strong>Kurum Adı:</strong> @certification.InstitutionName <br />
                    <strong>Sertifika Adı:</strong> @certification.CertificateName <br />
                    <strong>Sertifika Alınma Tarihi:</strong> @certification.CertificationDate.ToString("dd/MM/yyyy") <br />
                </li>
            }
        </ul>
    }
    else
    {
        <p>Henüz eklenmiş bir sertifika bilgisi bulunmuyor.</p>
    }

    <!-- Profili Düzenle ve Şifre Değiştir -->
    <div style="margin-top: 30px;">
        <a href="@Url.Action("EditProfile", "JobSeekerProfile")" class="btn btn-primary">Profili Düzenle</a>
    </div>
    <div>
        <a href="@Url.Action("ChangePassword", "JobSeekerProfile")" class="btn btn-secondary">Şifremi Değiştir</a>
    </div>
    <!-- Hesabımı Sil -->
    <div style="margin-top: 30px;">
        <form method="post" asp-action="DeleteAccount">
            <button type="submit" class="btn btn-danger" onclick="return confirm('Hesabınızı silmek istediğinizden emin misiniz?');">Hesabımı Sil</button>
        </form>
    </div>
</div>