@model JobPortal.Entities.Models.Concrete.JobSeeker

<h2>Profili Düzenle</h2>

<form method="post" enctype="multipart/form-data">
    <div>
        <label for="FirstName">Ad:</label>
        <input type="text" id="FirstName" name="FirstName" value="@Model.FirstName" />
    </div>
    <div>
        <label for="LastName">Soyad:</label>
        <input type="text" id="LastName" name="LastName" value="@Model.LastName" />
    </div>
    <div>
        <label for="PhoneNumber">Telefon Numarası:</label>
        <input type="text" id="PhoneNumber" name="PhoneNumber" value="@Model.PhoneNumber" />
    </div>
    <div>
        <label for="Address">Adres:</label>
        <input type="text" id="Address" name="Address" value="@Model.Address" />
    </div>
    <div>
        <label for="Resume">Özgeçmiş Yükle (PDF):</label>
        <input type="file" id="Resume" name="ResumeFile" accept=".pdf" />
    </div>
    <div>
        <label for="ProfilePicture">Profil Fotoğrafı Yükle (JPG, PNG):</label>
        <input type="file" id="ProfilePicture" name="profilePictureFile" accept="image/*" />
    </div>
    <div>
        <label for="Skills">Yetenekler:</label>
        <input type="text" id="Skills" name="Skills" value="@Model.Skills" />
    </div>

    <!-- Eğitim ve Sertifikalar -->
    <h3>Eğitim ve Sertifikalar</h3>
    <div id="education-certifications">
        @if (Model.EducationAndCertifications != null && Model.EducationAndCertifications.Any())
        {
            var index = 0;
            foreach (var certification in Model.EducationAndCertifications)
            {
                <div class="education-certification-item">
                    <input type="hidden" name="EducationAndCertifications[@index].Id" value="@certification.Id" />
                    <label for="InstitutionName">Enstitü Adı:</label>
                    <input type="text" name="EducationAndCertifications[@index].InstitutionName" value="@certification.InstitutionName" /><br />

                    <label for="Degree">Derece:</label>
                    <input type="text" name="EducationAndCertifications[@index].Degree" value="@certification.Degree" /><br />

                    <label for="GraduationDate">Mezuniyet Tarihi:</label>
                    <input type="date" name="EducationAndCertifications[@index].GraduationDate" value="@certification.GraduationDate.ToString("yyyy-MM-dd")" /><br />
                </div>
                index++;
            }
        }
    </div>
    <button type="button" onclick="addEducationCertification()">Yeni Eğitim/Sertifika Ekle</button>

    <button type="submit">Kaydet</button>
</form>

<script>
    function addEducationCertification() {
        var container = document.getElementById("education-certifications");
        var index = container.getElementsByClassName('education-certification-item').length;
        var template = `
                <div class="education-certification-item">
                    <input type="hidden" name="EducationAndCertifications[` + index + `].Id" value="0" />
                    <label for="InstitutionName">Enstitü Adı:</label>
                    <input type="text" name="EducationAndCertifications[` + index + `].InstitutionName" /><br />

                    <label for="Degree">Derece:</label>
                    <input type="text" name="EducationAndCertifications[` + index + `].Degree" /><br />

                    <label for="GraduationDate">Mezuniyet Tarihi:</label>
                    <input type="date" name="EducationAndCertifications[` + index + `].GraduationDate" /><br />
                </div>`;
        container.innerHTML += template;
    }
</script>
